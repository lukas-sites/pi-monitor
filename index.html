<!DOCTYPE html>
<html lang="en">

<head>
    <title>Pi Monitor</title>
    <style>
        html,
        body {
            margin: 0;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            grid-template-rows: 1fr 1fr;
            grid-template-areas: "lukas-schedule clock-weather" "gaby-schedule weather2";
            grid-gap: 10px;
            width: 100vw;
            height: 100vh;
            background-color: rgba(255, 255, 255, 0.4);
        }

        #lukas-schedule {
            grid-area: lukas-schedule;
        }

        #gaby-schedule {
            grid-area: gaby-schedule;
        }

        #clock-weather {
            display: flex;
            flex-direction: row;
            justify-content: center;
            justify-items: center;
            grid-area: clock-weather;
        }

        #clock {
            flex: 0 0 auto;
        }

        #weather1 {
            flex: 1 0 auto;
        }

        #weather2 {
            grid-area: weather2;
        }
    </style>
</head>

<body>
    <div class="container">
        <iframe id="lukas-schedule" src="https://calendar.google.com/calendar/b/1/embed?showNav=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=600&amp;wkst=1&amp;bgcolor=%23ffffff&amp;src=nchit2fh0iurgjrdc4kvfq42n0th8u0e%40import.calendar.google.com&amp;color=%23B1440E&amp;ctz=America%2FNew_York"
            style="border-width:0; height: 100%; width: 100%;" frameborder="0" scrolling="no"></iframe>

        <iframe id="gaby-schedule" src="https://calendar.google.com/calendar/embed?showNav=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=600&amp;wkst=1&amp;hl=en&amp;bgcolor=%23FFFFFF&amp;src=o3vk0693hufgh9fod9dff204kb5ssdk9%40import.calendar.google.com&amp;color=%232F6309&amp;ctz=America%2FNew_York"
            style="border-width:0; height: 100%; width: 100%;" frameborder="0" scrolling="no"></iframe>


        <div id="clock-weather">
            <iframe id="clock" scrolling="no" frameborder="no" clocktype="html5" style="overflow:hidden;border:0;margin:0;padding:0;width:450px;height:210px;"
                src="https://www.clocklink.com/html5embed.php?clock=048&timezone=GMT-0400&color=purple&size=450&Title=&Message=&Target=&From=2018,1,1,0,0,0&Color=purple"></iframe>
            <div id="weather1">
                <script type='text/javascript' src='https://darksky.net/widget/default/34.8269,-82.5817/us12/en.js?width=100%&height=350&title=Easley, SC&textColor=333333&bgColor=transparent&transparency=true&skyColor=333333&fontFamily=Default&customFont=&units=us&htColor=333333&ltColor=C7C7C7&displaySum=yes&displayHeader=yes'></script>
            </div>
        </div>
        <div id="weather2">
            <script type='text/javascript' src='https://darksky.net/widget/graph-bar/34.8269,-82.5817/us12/en.js?width=100%&height=400&title=Full Forecast&textColor=333333&bgColor=FFFFFF&transparency=true&skyColor=undefined&fontFamily=Default&customFont=&units=us&timeColor=333333&tempColor=333333&currentDetailsOption=true'></script>
        </div>
    </div>

    <script>
        const body = document.querySelector('body');
        function updateBackground() {
            fetch("https://source.unsplash.com/random/1920x1080")
                .then(response => body.style.background = `url('${response.url}')`);
        }

        updateBackground();
        setInterval(() => {
            var date = new Date(); // Create a Date object to find out what time it is
            if (date.getHours() === 0 && date.getMinutes() === 0) { // Check the time
                setTimeout(function(){ 
                    window.location.href = window.location.href;
                }, 1000);
            }
        }, 60000); // Check every minute

        setInterval(() => {
            updateBackground();
        }, 300000); // Refresh background every 5 minutes
    </script>
</body>

</html>
